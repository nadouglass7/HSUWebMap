function CMPanelSearch(TheCanvasMap){CMBase.call(this);if(TheCanvasMap==undefined)alert("Sorry, the CMPanelSearch requires a CanvasMap object on construction");this.SetParent(TheCanvasMap);this.TheElement=null;}CMPanelSearch.prototype=Object.create(CMBase.prototype);CMPanelSearch.prototype.contructor=CMPanelSearch;CMPanelSearch.prototype.SetElement=function(TheElement){this.TheElement=TheElement;TheElement.innerHTML="Search:";var SearchResults=document.createElement("DIV");SearchResults.id="CM_SearchResults";var TextField=document.createElement("INPUT");TextField.setAttribute("type","text");TheElement.appendChild(TextField);var SearchButton=document.createElement("INPUT");SearchButton.setAttribute("type","button");SearchButton.value="Submit";SearchButton.className="CM_SearchButton";SearchButton.TextField=TextField;SearchButton.CanvasMap=this.GetParent();SearchButton.SearchResults=SearchResults;SearchButton.onclick=function(){var Text=this.TextField.value;Text=Text.toLowerCase();SearchResults.innerHTML="";this.CanvasMap.TheScene.GetSearchResults(Text,SearchResults);}
TheElement.appendChild(SearchButton);TheElement.appendChild(SearchResults);}