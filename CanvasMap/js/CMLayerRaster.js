function CMLayerRaster(){CMLayer.call(this);this.TheImage=null;}CMLayerRaster.prototype=Object.create(CMLayer.prototype);CMLayerRaster.prototype.contructor=CMLayerRaster;CMLayerRaster.prototype.SetURL=function(URL,ZoomToBounds){this.TheImage=new Image();this.TheImage.Loaded=false;this.TheImage.TheLayer=this;this.ZoomToBounds=ZoomToBounds;this.TheImage.onload=function(){this.Loaded=true;this.TheLayer.Repaint();if(this.TheLayer.ZoomToBounds){var TheMainContainer=this.TheLayer.GetParent(CMMainContainer);TheMainContainer.ZoomToBounds(this.TheLayer.GetBounds());}};this.TheImage.src=URL;}
CMLayerRaster.prototype.SetImage=function(TheImage){this.TheImage=TheImage;}
CMLayerRaster.prototype.In=function(TheView,RefX,RefY){return(-1);};CMLayerRaster.prototype.Paint=function(TheView){if((this.IsVisible())&&(this.TheImage!=null)&&(this.TheImage.Loaded==true)){var TheContext=TheView.GetContext();var TheBounds=this.TheBounds;var TheStyle=this.GetStyle(TheView);if(TheStyle!=undefined)TheView.SetStyle(TheStyle);if(TheBounds!=null){TheView.PaintRefImageScaled(this.TheImage,this.TheBounds);}else{TheContext.drawImage(this.TheImage,0,0,this.TheImage.width,this.TheImage.height);}if(TheStyle!=undefined)TheView.RestoreStyle();}}